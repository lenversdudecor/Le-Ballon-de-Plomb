
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Le Ballon de Plombâ„¢</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<audio id="endBeep" src="https://freesound.org/data/previews/341/341695_5260877-lq.mp3"></audio>

<body>
  <div id="app">
    <header>
      <img src="assets/RHulxXLylPpri6CILn8I--0--sleqd.jpg" alt="Le Ballon de Plomb" style="height: 60px;" />
      <button id="rulesBtn">ğŸ“˜ RÃ¨gles</button>
    </header>

    <main>
      <!-- Ã‰cran d'inscription -->
      <section id="register-screen" class="screen active">
        <h2>ğŸ® Rejoins une partie</h2>
        <input type="text" id="pseudoInput" placeholder="Ton pseudo" />

        <div class="form-group">
          <label for="countrySearch">Choisis ton pays :</label>
          <input type="text" id="countrySearch" placeholder="Recherche ton pays..." autocomplete="off" />
          <ul id="countryList" class="country-list"></ul>
          <input type="hidden" id="countrySelect" />
          <div id="selectedCountryPreview" class="selected-country"></div>
        </div>

        <button id="createRoomBtn">CrÃ©er une partie</button>
        <input type="text" id="roomCodeInput" placeholder="Code de la room" />
        <button id="joinRoomBtn">Rejoindre</button>

        <div style="margin-top: 20px;">
          <button id="spectatorBtn">ğŸ‘€ Rejoindre comme spectateur (<span id="spectatorCount">0</span>)</button>
        </div>
      </section>

      <!-- Ã‰cran de jeu -->
      <section id="game-screen" class="screen hidden">
        <h2>ğŸ¯ Partie : <span id="roomCodeDisplay"></span></h2>
        <div id="playerList"></div>
        <div id="gameStatus"></div>

        <!-- Zone de vote -->
        <div id="voteArea" class="hidden">
          <h3>ğŸ—³ï¸ Votez pour un joueur :</h3>
          <div id="voteOptions"></div>
        </div>

        <!-- Chat global -->
        <div id="chatArea">
          <div id="chatMessages"></div>
          <input type="text" id="chatInput" placeholder="Message..." />
          <button id="sendMsgBtn">Envoyer</button>
        </div>

        <!-- Chat privÃ© pour journalistes -->
        <div id="privateChatArea" class="hidden">
          <h4>ğŸ”’ Chat secret (journalistes)</h4>
          <div id="privateChatMessages"></div>
          <input type="text" id="privateChatInput" placeholder="Message secret..." />
          <button id="sendPrivateMsgBtn">Envoyer au clan</button>
        </div>

        <!-- RÃ©sultats finaux -->
        <div id="resultPanel" class="hidden"></div>

        <!-- Relancer -->
        <div style="margin-top: 20px;">
          <button id="relancerBtn" class="hidden">ğŸ” Relancer la partie</button>
        </div>
      </section>
    </main>

    <!-- Modal RÃ¨gles -->
    <div id="rulesModal" class="modal hidden">
      <div class="modal-content">
        <h3>ğŸ“˜ RÃ¨gles du jeu â€“ Le Ballon de Plombâ„¢</h3>
        <p>
          Deux camps sâ€™affrontent secrÃ¨tement :<br>
          ğŸ¤ Les Journalistes veulent faire Ã©lire un faux Ballon dâ€™Or.<br>
          ğŸ’š Les Supporters doivent Ã©lire le vrai Ballon dâ€™Or (dÃ©signÃ© par le systÃ¨me).<br><br>
          Chaque tour, discutez, votez, et observez les indicesâ€¦ Mais attention aux manipulations !
        </p>
        <button id="closeRulesBtn">Fermer</button>
      </div>
    </div>
  </div>

  <!-- ğŸ”§ Scripts -->
  <script type="module" src="js/firebase.js" defer></script>
  <script type="module" src="js/gameEngine.js" defer></script>
  <script type="module" src="js/allCountries.js" defer></script>
  <script type="module" src="js/app.js" defer></script>
</body>
</html>

